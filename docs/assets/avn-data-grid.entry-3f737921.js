import{r as d,h as c,H as l,g as h}from"./index-abe37881.js";import"./index-0100a516.js";import"./_commonjsHelpers-725317a4.js";import"./iframe-a6e2f9c6.js";import"../sb-preview/runtime.mjs";const g=`:host{--font-family:sans-serif;--radius:16px;--padding:24px;--shadow-color:220 3% 15%;--shadow-strength:1%;--shadow:0 -1px 3px 0 hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),
    0 1px 2px -5px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),
    0 2px 5px -5px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 4%)),
    0 4px 12px -5px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 5%)),
    0 12px 15px -5px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 7%))}:host{font-family:var(--font-family);width:100%;height:100%;display:flex;margin:0;justify-content:center;align-items:center}:host .data-grid-container{display:flex;flex-flow:column nowrap;background:white;width:80%;margin:0 auto;border-radius:var(--radius);box-shadow:var(--shadow)}:host ::slotted(avn-data-grid-row[heading]){border-top-left-radius:var(--radius);border-top-right-radius:var(--radius)}@media only screen and (max-width: 600px){:host{font-size:16px}}@media only screen and (min-width: 600px){:host{font-size:16px}}@media only screen and (min-width: 768px){:host{font-size:18px}}@media only screen and (min-width: 992px){:host{font-size:20px}}`,u=class{constructor(i){d(this,i),this.rows=[],this.initialRowState=[],this.mode=void 0}sortingHandler(i){const{cellIndex:e,direction:s}=i.detail;if(!s)return;const t=[...this.initialRowState];t.sort((a,r)=>a.index===r.index?0:a.index==="0"?-1:r.index==="0"?1:a.cells[e].value<r.cells[e].value?s==="asc"?-1:1:a.cells[e].value>r.cells[e].value?s==="asc"?1:-1:0),this.gridContainer.firstElementChild.assignedElements().forEach((a,r)=>{r!==0&&Array.from(a.children).forEach((o,n)=>{o.textContent=t[r].cells[n].value})})}connectedCallback(){this.selectRow=this.selectRow.bind(this)}componentDidLoad(){this.gridContainer=this.el.shadowRoot.querySelector(".data-grid-container");const i=this.gridContainer.firstElementChild;this.rows=i.assignedElements(),this.rows.forEach((e,s)=>{if(e.dataset.index=String(s),this.mode==="single-select"){const t=document.createElement("avn-data-grid-radio");s===0&&(t.style.visibility="collapse"),e.firstElementChild.prepend(t)}else if(this.mode==="multi-select"){const t=document.createElement("avn-data-grid-checkbox");e.firstElementChild.prepend(t)}}),this.initialRowState=[...this.rows].map(e=>({index:e.dataset.index,cells:Array.from(e.children).map(s=>({value:s.textContent}))})),this.gridContainer.addEventListener("click",this.selectRow)}disconnectedCallback(){this.gridContainer.removeEventListener("click",this.selectRow)}selectRow(i){const e=i.target.closest("avn-data-grid-row");if(this.mode==="single-select"){if(e.heading)return;this.rows.forEach(a=>{const o=a.querySelector("avn-data-grid-cell").querySelector("avn-data-grid-radio");a.selected=!1,o.checked=!1});const t=e.querySelector("avn-data-grid-cell").querySelector("avn-data-grid-radio");t.checked=!t.checked,e.selected=t.checked}if(this.mode==="multi-select"){const t=e.querySelector("avn-data-grid-cell").querySelector("avn-data-grid-checkbox");if(t.checked=!t.checked,e.selected=t.checked,e.heading)[,...this.rows].forEach(r=>{const n=r.querySelector("avn-data-grid-cell").querySelector("avn-data-grid-checkbox");r.selected=!e.selected,n.checked=!e.selected});else{const[a]=this.rows,o=a.querySelector("avn-data-grid-cell").querySelector("avn-data-grid-checkbox");a.selected=!1,o.checked=!1}}}render(){return c(l,null,c("div",{class:"data-grid-container"},c("slot",null)))}get el(){return h(this)}};u.style=g;export{u as avn_data_grid};
//# sourceMappingURL=avn-data-grid.entry-3f737921.js.map
